(ns aoc.ocr
  (:require
   [clojure.string :as str]))

(defn draw [points]
  (let [min-x (->> points (map first) (apply min))
        max-x (->> points (map first) (apply max))
        min-y (->> points (map second) (apply min))
        max-y (->> points (map second) (apply max))]
    (->> (range min-y (inc max-y))
         (map (fn [y]
                (apply str (map (fn [x] (if (points [x y]) \# \.))
                                (range min-x (inc max-x))))))
         (interpose "\n")
         (apply str))))

(def parse
  (update-keys
   {".##..####.#....####.#.....##..#...#####..##...###
     #..#.#....#....#....#....#..#.#...##....#..#.#...
     #....###..#....###..#....#..#..#.#.###..#....#...
     #....#....#....#....#....#..#...#..#....#.....##.
     #..#.#....#....#....#....#..#...#..#....#..#....#
     .##..#....####.####.####..##....#..#.....##..###."
    "CFLELOYFCS"
    "###..####.#..#.###...##....##.####.#..#
     #..#.#....#.#..#..#.#..#....#....#.#..#
     ###..###..##...#..#.#.......#...#..#..#
     #..#.#....#.#..###..#.......#..#...#..#
     #..#.#....#.#..#.#..#..#.#..#.#....#..#
     ###..#....#..#.#..#..##...##..####..##."
    "BFKRCJZU"
    "###..#..#.###..####.#..#.
     #..#.#..#.#..#.#....#..#.
     #..#.####.#..#.###..#..#.
     ###..#..#.###..#....#..#.
     #....#..#.#....#....#..#.
     #....#..#.#....####..##.."
    "PHPEU"
    "###....##.#....####.###..#..#..##..#..#
     #..#....#.#....#....#..#.#..#.#..#.#..#
     #..#....#.#....###..###..#..#.#....#..#
     ###.....#.#....#....#..#.#..#.#....#..#
     #.#..#..#.#....#....#..#.#..#.#..#.#..#
     #..#..##..####.#....###...##...##...##."
    "RJLFBUCU"
    "#...#..###
     #...#...#.
     #...#...#.
     #####...#.
     #...#...#.
     #...#...#.
     #...#...#.
     #...#..###"
    "HI"
    "######..#####...#....#..#....#..#.......######....##.....####.
     #.......#....#..#....#..#...#...#.......#........#..#...#....#
     #.......#....#..#....#..#..#....#.......#.......#....#..#.....
     #.......#....#..#....#..#.#.....#.......#.......#....#..#.....
     #####...#####...######..##......#.......#####...#....#..#.....
     #.......#....#..#....#..##......#.......#.......######..#..###
     #.......#....#..#....#..#.#.....#.......#.......#....#..#....#
     #.......#....#..#....#..#..#....#.......#.......#....#..#....#
     #.......#....#..#....#..#...#...#.......#.......#....#..#...##
     #.......#####...#....#..#....#..######..######..#....#...###.#"
    "FBHKLEAG"
    "###..####..##..###..#..#.###..####.###.
     #..#....#.#..#.#..#.#.#..#..#.#....#..#
     #..#...#..#....#..#.##...#..#.###..###.
     ###...#...#.##.###..#.#..###..#....#..#
     #....#....#..#.#....#.#..#....#....#..#
     #....####..###.#....#..#.#....####.###."
    "PZGPKPEB"}
   #(str/replace % " " "")))
